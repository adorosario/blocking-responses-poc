@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import highlight.js theme for code syntax highlighting */
@import 'highlight.js/styles/github.css' (prefers-color-scheme: light);
@import 'highlight.js/styles/github-dark.css' (prefers-color-scheme: dark);

@layer base {
  * {
    @apply border-gray-200 dark:border-gray-700;
  }
  
  body {
    @apply bg-gray-50 text-gray-900 dark:bg-gray-900 dark:text-gray-100;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* Enhanced Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-gray-100 dark:bg-gray-800 rounded-full;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-gray-300 dark:bg-gray-600 rounded-full transition-colors duration-200;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400 dark:bg-gray-500;
  }

  ::-webkit-scrollbar-corner {
    @apply bg-gray-100 dark:bg-gray-800;
  }

  /* Firefox scrollbar */
  html {
    scrollbar-width: thin;
    scrollbar-color: theme('colors.gray.300') theme('colors.gray.100');
  }

  html.dark {
    scrollbar-color: theme('colors.gray.600') theme('colors.gray.800');
  }
}

@layer components {
  /* Enhanced Button variants with modern styling */
  .btn-primary {
    @apply bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white px-4 py-2 rounded-xl font-medium transition-all duration-300 shadow-soft hover:shadow-soft-lg hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100;
  }

  .btn-secondary {
    @apply bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100 px-4 py-2 rounded-xl font-medium transition-all duration-300 shadow-soft hover:shadow-soft-lg hover:scale-[1.02] active:scale-[0.98];
  }

  .btn-success {
    @apply bg-gradient-to-r from-success-600 to-success-700 hover:from-success-700 hover:to-success-800 text-white px-4 py-2 rounded-xl font-medium transition-all duration-300 shadow-soft hover:shadow-soft-lg hover:scale-[1.02] active:scale-[0.98];
  }

  .btn-danger {
    @apply bg-gradient-to-r from-danger-600 to-danger-700 hover:from-danger-700 hover:to-danger-800 text-white px-4 py-2 rounded-xl font-medium transition-all duration-300 shadow-soft hover:shadow-soft-lg hover:scale-[1.02] active:scale-[0.98];
  }

  .btn-ghost {
    @apply text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 px-4 py-2 rounded-xl font-medium transition-all duration-300 hover:scale-[1.02] active:scale-[0.98];
  }

  .btn-outline {
    @apply border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 hover:border-gray-400 dark:hover:border-gray-500 px-4 py-2 rounded-xl font-medium transition-all duration-300 hover:scale-[1.02] active:scale-[0.98];
  }

  /* Enhanced Card components with modern styling */
  .card {
    @apply bg-white dark:bg-gray-800 rounded-2xl shadow-soft border border-gray-200 dark:border-gray-700 p-6 transition-all duration-300;
  }

  .card-hover {
    @apply bg-white dark:bg-gray-800 rounded-2xl shadow-soft hover:shadow-soft-lg border border-gray-200 dark:border-gray-700 p-6 transition-all duration-300 hover:scale-[1.01] cursor-pointer;
  }

  .card-compact {
    @apply bg-white dark:bg-gray-800 rounded-xl shadow-soft border border-gray-200 dark:border-gray-700 p-4 transition-all duration-300;
  }

  .card-glass {
    @apply bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg border border-white/20 dark:border-gray-800/20 rounded-2xl shadow-soft p-6 transition-all duration-300;
  }

  /* Status indicators */
  .status-success {
    @apply bg-success-50 dark:bg-success-900/20 text-success-700 dark:text-success-400 border border-success-200 dark:border-success-800;
  }

  .status-warning {
    @apply bg-warning-50 dark:bg-warning-900/20 text-warning-700 dark:text-warning-400 border border-warning-200 dark:border-warning-800;
  }

  .status-danger {
    @apply bg-danger-50 dark:bg-danger-900/20 text-danger-700 dark:text-danger-400 border border-danger-200 dark:border-danger-800;
  }

  /* Loading animations */
  .animate-spin-slow {
    animation: spin 3s linear infinite;
  }

  /* Enhanced Glassmorphism effects */
  .glass {
    @apply bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg border border-white/20 dark:border-gray-800/20;
  }

  .glass-subtle {
    @apply bg-white/60 dark:bg-gray-900/60 backdrop-blur-md border border-white/10 dark:border-gray-800/10;
  }

  .glass-strong {
    @apply bg-white/90 dark:bg-gray-900/90 backdrop-blur-xl border border-white/30 dark:border-gray-800/30;
  }

  /* Enhanced Gradient backgrounds */
  .gradient-primary {
    background: linear-gradient(135deg, theme('colors.primary.600'), theme('colors.primary.700'), theme('colors.primary.800'));
  }

  .gradient-primary-soft {
    background: linear-gradient(135deg, theme('colors.primary.100'), theme('colors.primary.200'));
  }

  .gradient-success {
    background: linear-gradient(135deg, theme('colors.success.500'), theme('colors.success.600'), theme('colors.success.700'));
  }

  .gradient-success-soft {
    background: linear-gradient(135deg, theme('colors.success.100'), theme('colors.success.200'));
  }

  .gradient-warning {
    background: linear-gradient(135deg, theme('colors.warning.500'), theme('colors.warning.600'), theme('colors.warning.700'));
  }

  .gradient-warning-soft {
    background: linear-gradient(135deg, theme('colors.warning.100'), theme('colors.warning.200'));
  }

  .gradient-danger {
    background: linear-gradient(135deg, theme('colors.danger.500'), theme('colors.danger.600'), theme('colors.danger.700'));
  }

  .gradient-danger-soft {
    background: linear-gradient(135deg, theme('colors.danger.100'), theme('colors.danger.200'));
  }

  .gradient-rainbow {
    background: linear-gradient(45deg, theme('colors.primary.500'), theme('colors.success.500'), theme('colors.warning.500'), theme('colors.danger.500'));
  }

  .gradient-shimmer {
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
    background-size: 200% 100%;
    animation: shimmer 2.5s linear infinite;
  }
}

@layer utilities {
  /* Enhanced Text utilities */
  .text-balance {
    text-wrap: balance;
  }

  .text-gradient {
    @apply bg-gradient-to-r from-primary-600 to-primary-700 bg-clip-text text-transparent;
  }

  .text-gradient-rainbow {
    @apply bg-gradient-to-r from-primary-500 via-success-500 to-warning-500 bg-clip-text text-transparent;
  }

  /* Enhanced Focus utilities */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-900 transition-shadow duration-200;
  }

  .focus-ring-inset {
    @apply focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500 transition-shadow duration-200;
  }

  /* Enhanced Smooth transitions */
  .transition-smooth {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .transition-spring {
    transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  }

  /* Interactive utilities */
  .hover-lift {
    @apply transition-transform duration-300 hover:-translate-y-1 hover:shadow-soft-lg;
  }

  .hover-glow {
    @apply transition-all duration-300 hover:shadow-glow;
  }

  .interactive {
    @apply transition-all duration-200 hover:scale-[1.02] active:scale-[0.98] cursor-pointer;
  }

  /* Loading states */
  .skeleton {
    @apply animate-pulse bg-gray-200 dark:bg-gray-700 rounded;
  }

  .skeleton-text {
    @apply skeleton h-4 w-full mb-2;
  }

  .skeleton-button {
    @apply skeleton h-10 w-24 rounded-xl;
  }

  /* Status indicators */
  .status-online {
    @apply bg-success-500 shadow-[0_0_10px_theme(colors.success.500/50)];
  }

  .status-offline {
    @apply bg-gray-400 dark:bg-gray-600;
  }

  .status-warning {
    @apply bg-warning-500 shadow-[0_0_10px_theme(colors.warning.500/50)];
  }

  .status-error {
    @apply bg-danger-500 shadow-[0_0_10px_theme(colors.danger.500/50)];
  }

  /* Mobile-first responsive utilities */
  .touch-target {
    @apply min-h-12 min-w-12 flex items-center justify-center;
  }

  .mobile-padding {
    @apply px-4 sm:px-6 lg:px-8;
  }

  .mobile-text {
    @apply text-sm sm:text-base;
  }

  /* Enhanced responsive design tokens */
  .responsive-grid-auto {
    @apply grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4;
  }

  .responsive-gap {
    @apply gap-3 xs:gap-4 sm:gap-5 md:gap-6;
  }

  .responsive-text {
    @apply text-sm xs:text-base sm:text-lg md:text-xl;
  }

  .responsive-heading {
    @apply text-lg xs:text-xl sm:text-2xl md:text-3xl lg:text-4xl;
  }

  .responsive-card-padding {
    @apply p-3 xs:p-4 sm:p-5 md:p-6 lg:p-8;
  }

  .responsive-button-size {
    @apply text-sm xs:text-base sm:text-lg;
  }

  /* Enhanced Markdown Content Styling */
  .markdown-content {
    @apply text-sm sm:text-base leading-relaxed;
  }

  /* Enhanced code highlighting with smooth animations */
  .markdown-content pre {
    @apply transition-all duration-200 hover:shadow-md;
  }

  .markdown-content pre:hover {
    @apply transform scale-[1.002];
  }

  /* Improved blockquote styling */
  .markdown-content blockquote {
    @apply relative;
  }

  .markdown-content blockquote:before {
    content: '"';
    @apply absolute -left-2 -top-2 text-3xl text-blue-400 dark:text-blue-500 opacity-50;
  }

  /* Enhanced table hover effects */
  .markdown-content table tr:hover {
    @apply bg-gray-50 dark:bg-gray-700/50 transition-colors duration-150;
  }

  /* Smooth link hover animations */
  .markdown-content a {
    @apply relative overflow-hidden;
  }

  .markdown-content a:before {
    content: '';
    @apply absolute bottom-0 left-0 w-0 h-0.5 bg-current transition-all duration-300;
  }

  .markdown-content a:hover:before {
    @apply w-full;
  }

  /* Enhanced list styling */
  .markdown-content ul > li::marker {
    @apply text-blue-500 dark:text-blue-400;
  }

  .markdown-content ol > li::marker {
    @apply text-blue-600 dark:text-blue-400 font-semibold;
  }

  /* Task list styling */
  .markdown-content input[type="checkbox"] {
    @apply w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600;
  }

  /* Inline code styling improvements */
  .markdown-content code:not(pre code) {
    @apply relative;
  }

  .markdown-content code:not(pre code):before {
    content: '';
    @apply absolute inset-0 bg-current opacity-10 rounded;
  }

  /* Heading anchor hover effects */
  .markdown-content h1:hover,
  .markdown-content h2:hover,
  .markdown-content h3:hover,
  .markdown-content h4:hover,
  .markdown-content h5:hover,
  .markdown-content h6:hover {
    @apply transition-colors duration-200;
  }

  /* Math and emoji styling */
  .markdown-content .emoji {
    @apply inline-block w-5 h-5;
  }

  .mobile-friendly {
    @apply touch-target focus-ring transition-smooth;
  }
}

/* Details element styling for better interaction */
details {
  cursor: pointer;
}

details summary {
  cursor: pointer;
  list-style: none;
}

details summary::-webkit-details-marker {
  display: none;
}

details summary:before {
  content: '▶';
  display: inline-block;
  margin-right: 0.5rem;
  transition: transform 0.2s ease;
}

details[open] summary:before {
  transform: rotate(90deg);
}

/* Highlight.js theme overrides for better integration */
.hljs {
  @apply !bg-transparent;
}

/* Dark mode syntax highlighting adjustments */
@media (prefers-color-scheme: dark) {
  .hljs {
    @apply text-gray-200;
  }
  
  .hljs-keyword,
  .hljs-selector-tag,
  .hljs-title,
  .hljs-section,
  .hljs-doctag,
  .hljs-name,
  .hljs-strong {
    @apply text-blue-400;
  }
  
  .hljs-string,
  .hljs-title.class_,
  .hljs-title.class_.inherited__,
  .hljs-title.function_,
  .hljs-attr,
  .hljs-symbol,
  .hljs-bullet,
  .hljs-link,
  .hljs-builtin,
  .hljs-number {
    @apply text-green-400;
  }
  
  .hljs-comment,
  .hljs-quote,
  .hljs-variable,
  .hljs-template-variable,
  .hljs-tag,
  .hljs-name,
  .hljs-selector-id,
  .hljs-selector-class,
  .hljs-regexp,
  .hljs-deletion {
    @apply text-gray-500;
  }
}